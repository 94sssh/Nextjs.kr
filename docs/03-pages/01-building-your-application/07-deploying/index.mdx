---
title: Deploying
description: 관리형 또는 자체 호스팅으로 Next.js 앱 배포 방법 배우기
Learn how to deploy your Next.js app to production, either managed or self-hosted.
source: app/building-your-application/deploying
---

{/* DO NOT EDIT. The content of this doc is generated from the source above. To edit the content of this page, navigate to the source page in your editor. You can use the `<PagesOnly>Content</PageOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}

<PagesOnly>

축하합니다! Next.js 어플리케이션 배포할 준비가 끝났습니다! 이 페이지를 통해서 [Next.js Build API](https://nextjs.org/docs/pages/building-your-application/deploying#nextjs-build-api)를 이용하여 관리형 환경 또는 자체 호스팅 환경으로 배포하는 방법을 배우게 될 것입니다.

## Next.js Build API

`next build`는 프로덕션에 최적화된 애플리케이션 버전을 생성합니다. 출력된 내용에는 아래 항목을 포함됩니다:

- `getStaticProps` 또는 [자동 정적 최적화](/docs/pages/building-your-application/rendering/automatic-static-optimization)를 사용하는 페이지의 HTML 파일
- 전역 스타일 또는 개별 스코프 스타일 CSS 파일
- Next.js 서버로부터 동적 콘텐츠를 미리 렌더링하기 위한 자바스크립트
- 리액트에 의해 클라이언트 사이드에서 일어나는 대화형 기능을 위한 자바스크립트 파일

출력된 내용은 `.next`폴더 안에 생성됩니다.

- `.next/static/chunks/pages` - 이 폴더 안에서 각 자바스크립트 파일은 같은 이름을 가진 라우트를 설명합니다. 예를 들어, `/about` 경로를 보여줄 때 로드되는 자바스크립트 파일은 `.next/static/chunks/pages/about.js`입니다.
- `.next/static/media` - `next/image` 으로부터 정적으로 추가된 이미지가 해쉬되어 여기에 복사됩니다.
- `.next/static/css` - 모든 페이지에 대한 글로벌 CSS 파일
- `.next/server/pages` - 서버에서 미리 렌더링되는 HTML과 자바스크립트의 진입 점입니다. [출력 파일 추적](/docs/pages/api-reference/next-config-js/output)이 활성화되면 `.nft.json` 파일이 생성되며, 지정된 페이지에 의존하는 모든 파일 경로를 포함합니다.
- `.next/server/chunks` - 어플리케이션 여러곳에서 사용되는 자바스크립트 파일 모음입니다.
- `.next/cache` - 빌드 캐시 및 캐시 이미지, 응답과 페이지에 대한 Next.js 서버 출력입니다. 캐시를 이용하여 빌드 시간을 단축시키고, 이미지를 로딩 성능을 개선시킬 수 있습니다.

`.next` 내의 모든 자바스크립트 코드는 컴파일되고 브라우저 번들은 최소화되어 최고의 성능 달성하며, [모든 최신 브라우저](/docs/architecture/supported-browsers)를 지원할 수 있습니다.

## 관리형 - Vercel에서 관리되고 있는 Next.js 배포

[Vercel](https://vercel.com?utm_source=next-site&utm_medium=docs&utm_campaign=next-website)은 단 하나의 설정 없이도 Next.js 어플리케이션을 가장 빠르게 배포할 수 있는 방법입니다.

Vercel로 배포 시 플랫폼이 [자동으로 Next.js를 감지](https://vercel.com/solutions/nextjs?utm_source=next-site&utm_medium=docs&utm_campaign=next-website)하고, `next build`를 실행하며, 사용자를 위해 빌드 출력을 최적화 합니다. 포함되는 내용은 아래와 같습니다:

- 변화되지 않은 경우 배포 시 전반에 걸쳐 캐시된 자산 유지
- 매 커밋마다 유니크한 URL을 통해서 [영구 배포](https://vercel.com/features/previews?utm_source=next-site&utm_medium=docs&utm_campaign=next-website)
- 가능한 경우 자동으로 정적 최적화를 시켜주는 [페이지](/docs/pages/building-your-application/rendering/automatic-static-optimization)
- [Global Edge Network](https://vercel.com/features/infrastructure?utm_source=next-site&utm_medium=docs&utm_campaign=next-website)으로 부터 압축되어 제공되는 정적파일(Javascript, CSS, images, fonts)
- 무한대로 확장 할 수 있는 독립된 [서버리스 함수](https://vercel.com/features/infrastructure?utm_source=next-site&utm_medium=docs&utm_campaign=next-website)로 [API 라우터](/docs/pages/building-your-application/routing/api-routes)를 자동으로 최적화 함
- [미들웨어](/docs/pages/building-your-application/routing/middleware)는 cold start가 전혀 없고, 즉시 부팅되는 [Edge Functions](https://vercel.com/features/edge-functions?utm_source=next-site&utm_medium=docs&utm_campaign=next-website)을 통해서 자동으로 최적화 됨

더해서, Vervel은 아래와 같은 기능을 제공합니다:

- [Next.js 속도 인사이트](https://vercel.com/analytics?utm_source=next-site&utm_medium=docs&utm_campaign=next-website)을 통한 자동 성능 모니터링
- 자동화된 HTTPS와 SSL 인증서
- 자동화된 CI/CD (GitHub, GitLab, Bitbucket 등을 통한)
- [환경 변수](https://vercel.com/docs/environment-variables?utm_source=next-site&utm_medium=docs&utm_campaign=next-website) 지원
- [사용자 정의 도메인](https://vercel.com/docs/custom-domains?utm_source=next-site&utm_medium=docs&utm_campaign=next-website) 지원
- `next/image` 를 통한 [이미지 최적화](/docs/pages/building-your-application/optimizing/images) 지원
- `git push`를 통한 즉각적인 글로벌 배포

Next.js 애플리케이션을 무료로 [Vercel에 배포](https://vercel.com/new/git/external?repository-url=https://github.com/vercel/next.js/tree/canary/examples/hello-world&project-name=hello-world&repository-name=hello-world&utm_source=next-site&utm_medium=docs&utm_campaign=next-website)하여 사용해 보세요.

## 자체 호스팅

Node.js 또는 Docker를 사용하여 모든 기능을 지원하는 Next.js를 자체 호스팅 할 수 있습니다. 몇가지 제한 사항이 있는 정적 HTML 내보내기를 수행할 수도 있습니다.

### Node.js Server

### Node.js 서버

Next.js는 Node.js를 지원하는 모든 호스팅 제공업체에 배포 할 수 있습니다. 예를 들어 [AWS EC2](https://aws.amazon.com/ec2/) 또는 [DigitalOcean Droplet](https://www.digitalocean.com/products/droplets/) 등이 있습니다.

먼저, `package.json`에 `"build"`와 `"start"` 스크립트가 있는지 확인합니다.

```json filename="package.json"
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start"
  }
}
```

그런 다음 `npm run build` 명령어를 실행하여 어플리케이션을 빌드합니다. 마지막으로 `npm run start` 명령어를 실행하여 Node.js 서버를 시작합니다. 이 서버는 Next.js의 모든 기능을 지원합니다.

> [`next/image`](/docs/pages/building-your-application/optimizing/images)를 사용하는 경우, 프로젝트 디렉터리 `npm install sharp`를 실행하여 프로덕션 환경에서 이미지 최적화를 더 잘 수행 할 수 있도록 sharp를 추가하는 것도 고려해볼 수 있습니다. Linux 플랫폼에서는 과도한 메모리 사용을 방지하기 위해 추가 구성이 필요할 수 있습니다.

### 도커 이미지

Next.js는 [Docker](https://www.docker.com/) 컨테이너를 지원하는 모든 호스팅 제공 업체에 배포할 수 있습니다. 이 방식은 [Kubernetes](https://kubernetes.io/) 또는 [HashiCorp Nomad](https://www.nomadproject.io/)와 같은 컨테이너 오케스트레이터에 배포하거나 모든 클라우드 제공 업체의 단일 노드 내에서 실행할 때 사용할 수 있습니다.

1. 기기에 [Docker 설치](https://docs.docker.com/get-docker/)
2. [with-docker](https://github.com/vercel/next.js/tree/canary/examples/with-docker) 예제 복제
3. 컨테이너 빌드: `docker build -t nextjs-docker .`
4. 컨테이너 실행: `docker run -p 3000:3000 nextjs-docker`

여러 환경에서 서로 다른 환경 변수를 사용해야 하는 경우, [with-docker-multi-env](https://github.com/vercel/next.js/tree/canary/examples/with-docker-multi-env) 예제를 확인하세요.

### 정적 HTML 내보내기

Next.js 앱의 정적 HTML 내보내기를 수행하려면 [정적 HTML 내보내기 설명서](/docs/app/building-your-application/deploying/static-exports)의 지침을 따르세요.

## 기타 서비스

다음 서비스는 Next.js v12+를 지원합니다. 아래에서 각 서비스에 Next.js를 배포하는 예제 또는 가이드를 확인 할 수 있습니다.

### 관리형 서버

- [AWS Copilot](https://aws.github.io/copilot-cli/)
- [Digital Ocean App Platform](https://docs.digitalocean.com/tutorials/app-nextjs-deploy/)
- [Google Cloud Run](https://github.com/vercel/next.js/tree/canary/examples/with-docker)
- [Heroku](https://elements.heroku.com/buildpacks/mars/heroku-nextjs)
- [Railway](https://docs.railway.app/getting-started)
- [Render](https://render.com/docs/deploy-nextjs-app)

> **참고**: [위의 예](#docker-image)와 같이 Docker 파일을 사용할 수 있는 관리형 플랫폼도 있습니다.

### 정적 서비스 전용

다음 서비스는 [`output: 'export'`](/docs/app/building-your-application/deploying/static-exports)를 사용하여 Next.js를 배포할 수 있습니다.

- [깃허브 페이지](https://github.com/vercel/next.js/tree/canary/examples/github-pages)

또한, [`output: 'export'`](/docs/app/building-your-application/deploying/static-exports)로 인한 결과물을 수동으로 정적 호스팅 공급자에 배포할 수도 있으며, 주로 GitHub Actions, Jenkins, AWS CodeBuild, Circle CI, Azure Pipelines 등과 같은 CI/CD 파이프 라인을 통해 배포할 수 있습니다.

### 서버리스

- [AWS Amplify](https://aws.amazon.com/blogs/mobile/amplify-next-js-13/)
- [Azure Static Web Apps](https://learn.microsoft.com/en-us/azure/static-web-apps/nextjs)
- [Cloudflare Pages](https://developers.cloudflare.com/pages/framework-guides/deploy-a-nextjs-site/)
- [Firebase](https://firebase.google.com/docs/hosting/nextjs)
- [Netlify](https://docs.netlify.com/integrations/frameworks/next-js)
- [Terraform](https://github.com/milliHQ/terraform-aws-next-js)
- [SST](https://docs.sst.dev/start/nextjs)

> **참고**: 모든 서버리스 공급자가 `next start`부터 [Next.js Build API](#nextjs-build-api)를 구현하는 것은 아닙니다. 지원되는 기능을 확인하려면 제공업체에 문의해주세요.

## 자동 업데이트

Next.js 애플리케이션을 배포할 때, 다시 로드하지 않고 최신 버전을 확인하고 하길 원할 것입니다.

Next.js는 라우팅할 때 백그라운드에서 애플리케이션의 최신 버전을 자동으로 로드합니다. 클라이어트 측 네비게이션의 경우 `next/link`는 일시적으로 일반 <a>태그 처럼 동작합니다.

> **참고**: 이미 `next/link`에 새 페이지(이전 버전)가 프리패치된 경우 Next.js는 이전 버전을 사용합니다. 프리페치되지 않은 페이지로 이동하면 (CDN 수준에서 캐시되지 않은 페이지로 이동하면) 최신 버전이 로드됩니다.

## 수동 유예 종료

자체 호스팅 시 서버가 `SIGTERM` 또는 `SIGINT` 신호에 따라 코드를 실행하려는 경우가 있을 수 있습니다.

환경변수 `NEXT_MANUAL_SIG_HANDLE`를 `true`로 설정하고 `_document.js` 파일 내에 해당 신호에 대한 핸들러를 등록할 수 있습니다. env 변수는 `.env`파일이 아닌 `package.json` 스크립트에 등록해야 합니다.

> **참고**: 다음 개발 버전에서는 `next dev`에서 수동 신호 처리를 사용할 수 없습니다.

```json filename="package.json"
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "NEXT_MANUAL_SIG_HANDLE=true next start"
  }
}
```

```js filename="pages/_document.js"
if (process.env.NEXT_MANUAL_SIG_HANDLE) {
  // this should be added in your custom _document
  process.on('SIGTERM', () => {
    console.log('Received SIGTERM: ', 'cleaning up')
    process.exit(0)
  })

  process.on('SIGINT', () => {
    console.log('Received SIGINT: ', 'cleaning up')
    process.exit(0)
  })
}
```
